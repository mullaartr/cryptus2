<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/2.1.3/TweenMax.min.js" integrity="sha512-DkPsH9LzNzZaZjCszwKrooKwgjArJDiEjA5tTgr3YX4E6TYv93ICS8T41yFHJnnSmGpnf0Mvb5NhScYbwvhn2w==" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/2.1.3/TimelineMax.min.js" integrity="sha512-0xrMWUXzEAc+VY7k48pWd5YT6ig03p4KARKxs4Bqxb9atrcn2fV41fWs+YXTKb8lD2sbPAmZMjKENiyzM/Gagw==" crossorigin="anonymous"></script>


    <style>


        .tickerwrapper {
            grid-area: kn;
            position: relative;
            left:0%;
            border: 1px solid #444;
            background: #fff;
            width: 99.9%;
            height: 30px;
            overflow: hidden;
            cursor: pointer;
        }

        .list {
            position: relative;
            display: inline-block;
            font-family: Arial, sans-serif;
            list-style: none;
            padding:0;
            margin:0;
        }

        .list.cloned {
            position: absolute;
            top: 0px;
            left: 0px;
        }

        .list li {
            float: left;
            padding-left: 20px;
        }
        @media only screen and (max-width: 600px) {
            .item0{
                display: none;
            }

        }



        .header {
            grid-area: hd;
            height: clamp(150px, 80%, 150px);
            background-color: rgb(252, 149, 31);
            border-top: 2px solid black;
            border-bottom: 2px solid black;
        }
        #cryptusLogo {
            align-self: center;
            object-fit: cover;
            float: left;
            text-align: left;
            width: 150px;
            grid-column: 1;
        }
        .item0 {
            grid-area: hd;
            align-self: center;
            font-size: 80px;
            font-family: "Edwardian script ITC";
        }
        h2{
            margin-bottom: 0;
            margin-top: 30px;
        }


        .buttons{
            grid-area: kn;
            justify-self: center;
            font-family: Arial, sans-serif;
            border: 2px solid black;
            margin-bottom: 4px;
            background-color: rgb(255, 217, 0);
            height: 40px;
            width: 90%;
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.5s;
        }
        .buttons:hover {background-color: rgb(142, 123, 16)
        }

        .buttons:active {
            background-color: rgb(142, 123, 16);
            box-shadow: 0 5px #666;
            transform: translateY(4px);
        }


        #item1 {
            grid-column-start: 3;
            grid-column-end: 4;
        }

        #item2 {
            grid-column-start: 4;
            grid-column-end: 5;
        }

        #item3 {
            grid-column-start: 5;
            grid-column-end: 6;
        }

        #item4 {
            grid-column-start: 6;
            grid-column-end: 7;
        }

        #item5 {
            grid-column-start: 7;
            grid-column-end: 8;
        }

        #item6 {
            grid-column-start: 8;
            grid-column-end: 9;
        }

        #item8 {
            grid-column-start: 9;
            grid-column-end: 10;
        }

        .item7 {
            grid-area: sd;
            justify-self: center;
            align-self: center;
            height: 100%;
            width: 100%;

        }

        .main {
            grid-area: main;
            border: 2px solid rgb(0, 0, 0);
        }

        .voetje {
            grid-area: ft;
            background-color: rgb(252, 149, 31);
            height: clamp(150px, 100%, 150px);
            border-top: 2px solid black;
            border-bottom: 2px solid black;
        }

        .wrapper {
            display: grid;
            flex-wrap: wrap;
            grid-template-columns:repeat(9, 1fr);
            grid-template-rows: auto;
            padding: 2px;
            grid-template-areas:
        "hd hd hd hd hd hd hd hd hd"
        "kn kn kn kn kn kn kn kn kn"
        "sd sd main main main main main main main"
        "sd sd main main main main main main main"
        "sd sd main main main main main main main"
        "ft ft ft ft ft ft ft ft ft";
        }

        #coins {
            list-style-type: none;
        }





    </style>
</head>
<body>
<div class="wrapper">
    <div class="header"><img src="Assets/Cryptus finale logo.png" id="cryptusLogo" width="150px"><h2 class="item0">"Bless the Bytes"</h2></div>
    <div class="tickerwrapper"> <ul class='list'>
        <li class='listitem' id="Bitcoin"></li>
        <li class='listitem' id="Ethereum"></li>
        <li class='listitem' id="Tether"></li>
        <li class='listitem' id="USD-Coin"></li>
        <li class='listitem' id="BinanceCoin"></li>
        <li class='listitem' id="Cardano"></li>
        <li class='listitem' id="Ripple"></li>
        <li class='listitem' id="Binance-USD"></li>
        <li class='listitem' id="Solana"></li>
        <li class='listitem' id="Dogecoin"></li>
        <li class='listitem' id="Polkadot"></li>
        <li class='listitem' id="Wrapped-Bitcoin"></li>
        <li class='listitem' id="Staked-Ether"></li>
        <li class='listitem' id="Tron"></li>
        <li class='listitem' id="Avalanche-2"></li>
        <li class='listitem' id="Dai"></li>
        <li class='listitem' id="Shiba-Inu"></li>
        <li class='listitem' id="Leo"></li>
        <li class='listitem' id="Cronos"></li>
        <li class='listitem' id="Litecoin"></li>
    </ul>
    </ul>
    </div>
    <div class="main" id="iets">
        <button type="submit" id="kutbutton">submit</button>
        <!--<script src="klantophaler();"></script>-->
    </div>

    <div class="item7">
        <button id="item1" class="buttons" type="button">Af- en bijschrijvingen</button>
        <button id="item2" class="buttons">Crypto's kopen</button>
        <button id="item3" class="buttons">Crypto's verkopen</button>
        <button id="item4" class="buttons">Crypto's overmaken</button>
        <button id="item5" class="buttons">Marktplaats</button>
        <button id="item6" class="buttons">Bless me!</button>
        <button id="item8" class="buttons">Zelf regelen</button>
    </div>



    <div class="voetje"></div>
</div>
</body>
<script>
    //klantOphaler();

    koersOphaler();


      document.querySelector('#item1').addEventListener("click", () => {
          window.location.href = "register.html";
      })


    function klantNaamOphaler() {
        fetch('http://localhost:8080/klant/gebruiker'
        ).then((response) => {
                if (response.status === 200) {
                    return response.json();
                }
            }
        ).then(json => {
                let gebruiker = json1;
                return gebruiker;
            }
        )
    }

    function koersOphaler(){
        let token = localStorage.getItem('token')
        fetch('http://localhost:8080/koers/meest-recent',
            {
                method: 'GET',
                headers: {
                    'Authorization': `Bearer ${token}`
                }

            }).then((response) => {
                console.log(response)
                if (response.status === 200) {
                    return response.json();
                }
            }
        ).then(json => {
            console.log(json);
                json.forEach(json => vullLijstEuro(json));
                maakTekstLint();



            }
        ).catch(ex => {
            console.log(ex)
        })
    }
    function vullLijstEuro(json){
        const naam = `#${json.assetNaam}`;
        const e = document.querySelector(naam)
        const plaatje = `Assets/${json.assetNaam}.webp`
        e.innerHTML =`<img src="${plaatje}" style="margin-top: 2px"> ${json.assetNaam} â‚¬ ${json.koersInEuro} : $ ${json.koersInDollars}`;
    }




    function klantOphaler() {
        let token = localStorage.getItem('token')
        fetch('http://localhost:8080/klant/12',
            {
                method: 'GET',
                headers: {
                    'Authorization': `Bearer ${token}`
                }

            }).then((response) => {
                console.log(response)
                if (response.status === 200) {
                    console.log("We zien hier")
                    return response.json();
                }
            }
        ).then(json => {
                const p = document.querySelector(`#iets`);
                p.innerHTML = json.firstName;

            }
        ).catch(ex => {
            console.log(ex)
        })
    }
    function maakTekstLint() {
        var $tickerWrapper = $(".tickerwrapper");
        var $list = $tickerWrapper.find("ul.list");
        var $clonedList = $list.clone();
        var listWidth = 20;

        $list.find("li").each(function (i) {
            listWidth += $(this, i).outerWidth(true);
        });

        var endPos = $tickerWrapper.width() - listWidth;

        $list.add($clonedList).css({
            "width": listWidth + "px"
        });

        $clonedList.addClass("cloned").appendTo($tickerWrapper);

        var infinite = new TimelineMax({repeat: -1, paused: true});
        var time = 40;

        infinite.fromTo($list, time, {rotation: 0.01, x: 0}, {force3D: true, x: -listWidth, ease: Linear.easeNone}, 0)
            .fromTo($clonedList, time, {rotation: 0.01, x: listWidth}, {force3D: true, x: 0, ease: Linear.easeNone}, 0)
            .set($list, {force3D: true, rotation: 0.01, x: listWidth})
            .to($clonedList, time, {force3D: true, rotation: 0.01, x: -listWidth, ease: Linear.easeNone}, time)
            .to($list, time, {force3D: true, rotation: 0.01, x: 0, ease: Linear.easeNone}, time)
            .progress(1).progress(1)
            .play();
        $tickerWrapper.on("mouseenter", function(){
            infinite.pause();
        }).on("mouseleave", function(){
            infinite.play();
        });
    }

</script>


</html>